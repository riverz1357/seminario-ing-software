{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{Loader}from'react-feather';import'../styles/Stats.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Stats=()=>{const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchStats=async()=>{try{const apiUrl=process.env.URL_BACKEND||'http://localhost:3001';const response=await fetch(`${apiUrl}/stats`,{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`}});if(!response.ok){throw new Error('in progress feature');}const data=await response.json();setStats(data);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchStats();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(Loader,{size:48,className:\"spin\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Event Stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.totalUsers})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Active Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.activeUsers})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Events Created\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-number\",children:stats.eventsCreated})]})]})]});};export default Stats;","map":{"version":3,"names":["React","useState","useEffect","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Loader","jsx","_jsx","jsxs","_jsxs","Stats","stats","setStats","loading","setLoading","error","setError","fetchStats","apiUrl","process","env","URL_BACKEND","response","fetch","headers","localStorage","getItem","ok","Error","data","json","err","message","className","children","size","totalUsers","activeUsers","eventsCreated"],"sources":["C:/Users/River/Downloads/seminario ing software/SeminarioUCC2/src/components/Stats.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { Loader } from 'react-feather';\r\nimport '../styles/Stats.css';\r\n\r\nconst Stats = () => {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const apiUrl = process.env.URL_BACKEND || 'http://localhost:3001';\r\n        const response = await fetch(`${apiUrl}/stats`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('in progress feature'); \r\n        }\r\n        const data = await response.json();\r\n        setStats(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\"><Loader size={48} className=\"spin\" /></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"stats-container\">\r\n      <h2>Event Stats</h2>\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <h3>Total Users</h3>\r\n          <p className=\"stat-number\">{stats.totalUsers}</p>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <h3>Active Users</h3>\r\n          <p className=\"stat-number\">{stats.activeUsers}</p>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <h3>Events Created</h3>\r\n          <p className=\"stat-number\">{stats.eventsCreated}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stats;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}