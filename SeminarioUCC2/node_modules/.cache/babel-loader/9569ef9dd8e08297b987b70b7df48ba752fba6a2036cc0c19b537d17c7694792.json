{"ast":null,"code":"'use client';import{useState,useEffect}from'react';import{useSearchParams}from'next/navigation';import{Button}from\"@/components/ui/button\";import{Card,CardContent,CardHeader,CardTitle}from\"@/components/ui/card\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ConfirmAttendance(){const searchParams=useSearchParams();const[message,setMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const idcode=searchParams.get('idcode');const confirmAttendance=async attendanceNum=>{setIsLoading(true);const apiUrl=process.env.NEXT_PUBLIC_API_URL||'http://localhost:3001';try{const response=await fetch(`${apiUrl}/users/confirm-attendance?idcode=${idcode}&attendanceNumber=${attendanceNum}`,{method:'GET',headers:{'Content-Type':'application/json'}});if(response.ok){setMessage('Attendance confirmed.');}else{setMessage('Error confirming attendance.');}}catch(error){setMessage('Error connecting to the server.');}setIsLoading(false);};useEffect(()=>{if(!idcode){setMessage('Invalid QR code.');}},[idcode]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100 p-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-2xl font-bold text-center\",children:\"Confirm Attendance\"})}),/*#__PURE__*/_jsxs(CardContent,{children:[message?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-lg mb-4\",children:message}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-lg mb-4\",children:\"Select your attendance type:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-3\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>confirmAttendance(1),disabled:isLoading,className:\"w-full\",children:\"Morning\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>confirmAttendance(2),disabled:isLoading,className:\"w-full\",children:\"Afternoon\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>confirmAttendance(3),disabled:isLoading,className:\"w-full\",children:\"Full Day\"})]})]}),isLoading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4\",children:\"Loading...\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","useSearchParams","Button","Card","CardContent","CardHeader","CardTitle","jsx","_jsx","jsxs","_jsxs","ConfirmAttendance","searchParams","message","setMessage","isLoading","setIsLoading","idcode","get","confirmAttendance","attendanceNum","apiUrl","process","env","NEXT_PUBLIC_API_URL","response","fetch","method","headers","ok","error","className","children","onClick","disabled"],"sources":["E:/PROGRAMACION/seminario-ing-software/SeminarioUCC2/src/components/ConfirmAttendance.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useSearchParams } from 'next/navigation'\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\n\r\nexport default function ConfirmAttendance() {\r\n  const searchParams = useSearchParams()\r\n  const [message, setMessage] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const idcode = searchParams.get('idcode')\r\n\r\n  const confirmAttendance = async (attendanceNum) => {\r\n    setIsLoading(true)\r\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001'\r\n    try {\r\n      const response = await fetch(`${apiUrl}/users/confirm-attendance?idcode=${idcode}&attendanceNumber=${attendanceNum}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n      if (response.ok) {\r\n        setMessage('Attendance confirmed.')\r\n      } else {\r\n        setMessage('Error confirming attendance.')\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error connecting to the server.')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!idcode) {\r\n      setMessage('Invalid QR code.')\r\n    }\r\n  }, [idcode])\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100 p-4\">\r\n      <Card className=\"w-full max-w-md\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-2xl font-bold text-center\">Confirm Attendance</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {message ? (\r\n            <p className=\"text-center text-lg mb-4\">{message}</p>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <p className=\"text-center text-lg mb-4\">Select your attendance type:</p>\r\n              <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\r\n                <Button \r\n                  onClick={() => confirmAttendance(1)} \r\n                  disabled={isLoading}\r\n                  className=\"w-full\"\r\n                >\r\n                  Morning\r\n                </Button>\r\n                <Button \r\n                  onClick={() => confirmAttendance(2)} \r\n                  disabled={isLoading}\r\n                  className=\"w-full\"\r\n                >\r\n                  Afternoon\r\n                </Button>\r\n                <Button \r\n                  onClick={() => confirmAttendance(3)} \r\n                  disabled={isLoading}\r\n                  className=\"w-full\"\r\n                >\r\n                  Full Day\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {isLoading && <p className=\"text-center mt-4\">Loading...</p>}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}"],"mappings":"AAAA,YAAY,CAEZ,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,eAAe,KAAQ,iBAAiB,CACjD,OAASC,MAAM,KAAQ,wBAAwB,CAC/C,OAASC,IAAI,CAAEC,WAAW,CAAEC,UAAU,CAAEC,SAAS,KAAQ,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/E,cAAe,SAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC1C,KAAM,CAAAC,YAAY,CAAGX,eAAe,CAAC,CAAC,CACtC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAAkB,MAAM,CAAGL,YAAY,CAACM,GAAG,CAAC,QAAQ,CAAC,CAEzC,KAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAC,aAAa,EAAK,CACjDJ,YAAY,CAAC,IAAI,CAAC,CAClB,KAAM,CAAAK,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAI,uBAAuB,CACzE,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGL,MAAM,oCAAoCJ,MAAM,qBAAqBG,aAAa,EAAE,CAAE,CACpHO,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,GAAIH,QAAQ,CAACI,EAAE,CAAE,CACff,UAAU,CAAC,uBAAuB,CAAC,CACrC,CAAC,IAAM,CACLA,UAAU,CAAC,8BAA8B,CAAC,CAC5C,CACF,CAAE,MAAOgB,KAAK,CAAE,CACdhB,UAAU,CAAC,iCAAiC,CAAC,CAC/C,CACAE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACd,GAAI,CAACiB,MAAM,CAAE,CACXH,UAAU,CAAC,kBAAkB,CAAC,CAChC,CACF,CAAC,CAAE,CAACG,MAAM,CAAC,CAAC,CAEZ,mBACET,IAAA,QAAKuB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC5EtB,KAAA,CAACP,IAAI,EAAC4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC/BxB,IAAA,CAACH,UAAU,EAAA2B,QAAA,cACTxB,IAAA,CAACF,SAAS,EAACyB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,oBAAkB,CAAW,CAAC,CAC1E,CAAC,cACbtB,KAAA,CAACN,WAAW,EAAA4B,QAAA,EACTnB,OAAO,cACNL,IAAA,MAAGuB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEnB,OAAO,CAAI,CAAC,cAErDH,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxB,IAAA,MAAGuB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CAAC,cACxEtB,KAAA,QAAKqB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxB,IAAA,CAACN,MAAM,EACL+B,OAAO,CAAEA,CAAA,GAAMd,iBAAiB,CAAC,CAAC,CAAE,CACpCe,QAAQ,CAAEnB,SAAU,CACpBgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACnB,SAED,CAAQ,CAAC,cACTxB,IAAA,CAACN,MAAM,EACL+B,OAAO,CAAEA,CAAA,GAAMd,iBAAiB,CAAC,CAAC,CAAE,CACpCe,QAAQ,CAAEnB,SAAU,CACpBgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACnB,WAED,CAAQ,CAAC,cACTxB,IAAA,CAACN,MAAM,EACL+B,OAAO,CAAEA,CAAA,GAAMd,iBAAiB,CAAC,CAAC,CAAE,CACpCe,QAAQ,CAAEnB,SAAU,CACpBgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACnB,UAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CACAjB,SAAS,eAAIP,IAAA,MAAGuB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EACjD,CAAC,EACV,CAAC,CACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}